"use client";
import { motion, useScroll } from "framer-motion";
import { useRef } from "react";

export default function ScrollArrowSvg() {
    const ref = useRef<HTMLDivElement>(null);
    const { scrollYProgress } = useScroll({
        target: ref,
        offset: ["1 1", "0 0.5"],
    });

    return (
        <div ref={ref}>
            <motion.svg
                viewBox={"0 0 464 266"}
                xmlns={"http://www.w3.org/2000/svg"}
            >
                <motion.path
                    initial={{ pathLength: 0 }}
                    viewport={{ once: true, amount: 0.5 }}
                    d={
                        "M26.035 260.827c.959 3.204 5.086 4.423 7.51 1.98 17.402-17.56 34.803-35.119 52.204-52.684 3.48-3.51-1.1-9.938-5.427-7.025-2.092 1.406-3.534 3.14-5.309 5.011-2.63 2.773-5.49 5.857-8.206 8.704-5.707 5.98-12.04 11.45-17.161 17.14 5.849-51.265 23.725-110.647 59.793-147.868 34.927-36.032 75.347-27.113 109.844-13.19 16.843 6.797 34.433 13.19 53.738 17.012 40.995 8.117 81.912 2.267 117.893-17.013 27.907-14.953 53.317-38.559 70.49-66.337 1.409-2.278-3.931-6.087-5.402-3.906-28.477 42.3-70.049 73.442-120.63 81.32-26.163 4.076-52.752 2.045-77.995-5.872-25.866-8.113-50.462-21.456-77.598-25.166C86.301 40.156 43.818 172.502 38.943 243.994c-.015.21.045.366.055.562-2.204 2.221-4.408 4.447-6.612 6.669-5.327-15.65-12.426-29.95-21.84-43.88-3.218-4.768-11.025-.27-7.766 4.543 10.327 15.274 17.963 31.244 23.255 48.939z"
                    }
                    fill={"none"}
                    stroke={"#252525"}
                    strokeWidth={"3.5"}
                    strokeDasharray="0 1"
                    style={{
                        pathLength: scrollYProgress,
                    }}
                />
            </motion.svg>
        </div>
    );
}
